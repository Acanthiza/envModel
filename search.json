[{"path":"https://acanthiza.github.io/envModel/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Nigel Willoughby. Author, maintainer.","code":""},{"path":"https://acanthiza.github.io/envModel/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Willoughby N (2025). envModel: Model Clusters Function Environmental Variables. R package version 0.0.0.9000, https://acanthiza.github.io/envModel/, https://github.com/Acanthiza/envModel.","code":"@Manual{,   title = {envModel: Model Clusters as a Function of Environmental Variables},   author = {Nigel Willoughby},   year = {2025},   note = {R package version 0.0.0.9000, https://acanthiza.github.io/envModel/},   url = {https://github.com/Acanthiza/envModel}, }"},{"path":"https://acanthiza.github.io/envModel/reference/get_conf_metrics.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate diagnostics — get_conf_metrics","title":"Calculate diagnostics — get_conf_metrics","text":"Takes vectors truth predicted cases returns range yardstick metrics.","code":""},{"path":"https://acanthiza.github.io/envModel/reference/get_conf_metrics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate diagnostics — get_conf_metrics","text":"","code":"get_conf_metrics(pred_df, truth_vec = NULL, pred_vec = NULL)"},{"path":"https://acanthiza.github.io/envModel/reference/get_conf_metrics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate diagnostics — get_conf_metrics","text":"pred_df Dataframe truth predicted classes case. truth_vec Vector true classes. pred_vec Vector predicted classes.","code":""},{"path":"https://acanthiza.github.io/envModel/reference/get_conf_metrics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate diagnostics — get_conf_metrics","text":"Tibble metrics.","code":""},{"path":"https://acanthiza.github.io/envModel/reference/make_env_clust_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Add explanatory (environmental) variables to 'site' dataframe. — make_env_clust_df","title":"Add explanatory (environmental) variables to 'site' dataframe. — make_env_clust_df","text":"Add explanatory (environmental) variables 'site' dataframe.","code":""},{"path":"https://acanthiza.github.io/envModel/reference/make_env_clust_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add explanatory (environmental) variables to 'site' dataframe. — make_env_clust_df","text":"","code":"make_env_clust_df(   df,   clust_col = \"cluster\",   context = \"cell\",   min_sites = min_abs_sites,   df_env,   add_clust = NULL,   add_clust_col = \"cluster\",   add_env,   env_cols,   set_min = FALSE )"},{"path":"https://acanthiza.github.io/envModel/reference/make_env_clust_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add explanatory (environmental) variables to 'site' dataframe. — make_env_clust_df","text":"df Dataframe context 'cluster' columns. clust_col Name cluster column. context Name columns describing context. min_sites Minimum number sites preferred cluster. df_env Dataframe 'site' associated env values floristic 'sites'. add_clust additional clusters (.e. clusters generated floristics land cover 'clusters') add_clust_col Character name column add_clust 'clusters'. add_env Dataframe 'site' associated env values additionalClusters 'sites'. env_cols Names columns containing env variables. set_min Filter clusters 'sites' >= minsites","code":""},{"path":"https://acanthiza.github.io/envModel/reference/make_env_clust_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add explanatory (environmental) variables to 'site' dataframe. — make_env_clust_df","text":"Dataframe context columns, clustCol envCols rows dfenv addenv.","code":""},{"path":"https://acanthiza.github.io/envModel/reference/make_env_corr.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate correlation matrix and select variables to remove — make_env_corr","title":"Generate correlation matrix and select variables to remove — make_env_corr","text":"Generate correlation matrix select variables remove","code":""},{"path":"https://acanthiza.github.io/envModel/reference/make_env_corr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate correlation matrix and select variables to remove — make_env_corr","text":"","code":"make_env_corr(   env_df,   env_cols,   remove = TRUE,   thresh = 0.95,   always_remove = c(\"lat\", \"long\"),   always_keep = c(\"prec\", \"temp\") )"},{"path":"https://acanthiza.github.io/envModel/reference/make_env_corr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate correlation matrix and select variables to remove — make_env_corr","text":"env_df Dataframe environmental variables env_cols Numeric character vector defining columns env_df contain variables test correlation. remove Logical. Remove variables correlated thresh. Correlation found via caret::findCorrelation(). thresh Numeric. Threshold correlation value variable removed. always_remove Character vector. string vector, matched, always removed (even correlated). always_keep Character vector. string vector, matched, removed (even correlated).","code":""},{"path":"https://acanthiza.github.io/envModel/reference/make_env_corr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate correlation matrix and select variables to remove — make_env_corr","text":"list elements itemize","code":""},{"path":"https://acanthiza.github.io/envModel/reference/make_rf_diagnostics.html","id":null,"dir":"Reference","previous_headings":"","what":"Run random forest, returning only diagnostic values. — make_rf_diagnostics","title":"Run random forest, returning only diagnostic values. — make_rf_diagnostics","text":"Run random forest, returning diagnostic values.","code":""},{"path":"https://acanthiza.github.io/envModel/reference/make_rf_diagnostics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run random forest, returning only diagnostic values. — make_rf_diagnostics","text":"","code":"make_rf_diagnostics(   env_df,   clust_col = \"cluster\",   folds = 3L,   reps = 5L,   down_sample = TRUE,   range_m = as.integer(seq(20000L, 100000L, length.out = reps)),   set_min = FALSE,   mlr3_cv_method = \"repeated_cv\",   coords = c(\"long\", \"lat\"),   crs_df = 4283 )"},{"path":"https://acanthiza.github.io/envModel/reference/make_rf_diagnostics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run random forest, returning only diagnostic values. — make_rf_diagnostics","text":"env_df Dataframe clusters environmental columns. clust_col Character. Name column cluster membership. folds Numeric. many folds use cross-validation? reps Numeric. many repeats cross-validation? down_sample Logical. TRUE, sample.fraction argument ranger::ranger() set minimum number sites one cluster divided total number sites. range_m Numeric. distance metres (regardless unit reference system input data) block size(s) using blockCV::spatialBlock(). reps > 1, equivalent number range_m values required ensure folds different repetitions. repeated_spcv_block. set_min FALSE numeric. numeric, classes clust_col less set_min cases filtered. mlr3_cv_method Method use mlr3::rsmp() (character, e.g. \"repeated_cv\" \"repeated_spcv_block\". coords Character vector length 2. Names columns env_df x y coordinates. crs_df Coordinate reference system coords. Passed crs argument sf::st_as_sf().","code":""},{"path":"https://acanthiza.github.io/envModel/reference/make_rf_diagnostics_old.html","id":null,"dir":"Reference","previous_headings":"","what":"Run random forest, usually returning only diagnostic values. — make_rf_diagnostics_old","title":"Run random forest, usually returning only diagnostic values. — make_rf_diagnostics_old","text":"Random forest run via caret::train.","code":""},{"path":"https://acanthiza.github.io/envModel/reference/make_rf_diagnostics_old.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run random forest, usually returning only diagnostic values. — make_rf_diagnostics_old","text":"","code":"make_rf_diagnostics_old(   df,   clust_col = \"cluster\",   env_cols,   trees = 999,   folds = 3,   reps = 5,   tune_length = NULL,   save_rf = NULL )"},{"path":"https://acanthiza.github.io/envModel/reference/make_rf_diagnostics_old.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run random forest, usually returning only diagnostic values. — make_rf_diagnostics_old","text":"df Dataframe clusters, context environmental columns. clust_col Character. Name column cluster membership. env_cols Character. Name columns environmental data. trees Numeric. many trees forest? folds Numeric. many folds use repeated cross-validation. reps Numeric. many reps use repeated cross-validation. tune_length Numeric. Passed caret::train argument tuneLength. save_rf Character. File name saving train object (.rds).","code":""},{"path":"https://acanthiza.github.io/envModel/reference/make_rf_diagnostics_old.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run random forest, usually returning only diagnostic values. — make_rf_diagnostics_old","text":"Tibble (row) diagnostics","code":""},{"path":"https://acanthiza.github.io/envModel/reference/make_rf_diagnostics_spatialcv.html","id":null,"dir":"Reference","previous_headings":"","what":"Run random forest, returning only diagnostic values from spatial cross validation. — make_rf_diagnostics_spatialcv","title":"Run random forest, returning only diagnostic values from spatial cross validation. — make_rf_diagnostics_spatialcv","text":"Random forest run via randomForest::randomForest().","code":""},{"path":"https://acanthiza.github.io/envModel/reference/make_rf_diagnostics_spatialcv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run random forest, returning only diagnostic values from spatial cross validation. — make_rf_diagnostics_spatialcv","text":"","code":"make_rf_diagnostics_spatialcv(   env_df,   clust_col = \"cluster\",   folds = 3L,   reps = 5L,   range_min = 20000,   range_max = 1e+05,   coords = c(\"long\", \"lat\"),   crs_df = 4283,   crs_analysis = 3577,   ... )"},{"path":"https://acanthiza.github.io/envModel/reference/make_rf_diagnostics_spatialcv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run random forest, returning only diagnostic values from spatial cross validation. — make_rf_diagnostics_spatialcv","text":"env_df Dataframe clusters environmental columns. clust_col Character. Name column cluster membership. folds Numeric. many folds use cross-validation? reps Numeric. many repeats cross-validation? range_min, range_max Numeric. Metres. Minimum maximum grid sizes spatial tiles. Reps made using range <- seq(range_min, range_max , length.= reps) coords Character vector length 2. Names columns env_df x y coordinates. crs_df Coordinate reference system coords. Passed crs argument sf::st_as_sf(). ... passed make_rf_good().","code":""},{"path":"https://acanthiza.github.io/envModel/reference/make_rf_good.html","id":null,"dir":"Reference","previous_headings":"","what":"Iteratively add trees to random forest until predictions stabilise — make_rf_good","title":"Iteratively add trees to random forest until predictions stabilise — make_rf_good","text":"Iteratively add trees random forest predictions stabilise","code":""},{"path":"https://acanthiza.github.io/envModel/reference/make_rf_good.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Iteratively add trees to random forest until predictions stabilise — make_rf_good","text":"","code":"make_rf_good(   env_df,   clust_col = \"cluster\",   env_names,   trees_start = 499,   trees_add = 249,   trees_max = 9999,   rf_cores = 1,   use_mtry = NULL,   set_min = FALSE,   accept_delta = 0.995,   accept_run = 3,   internal_metrics = TRUE,   do_imp = FALSE,   keep_rf = FALSE,   out_file = NULL,   save_res = FALSE,   do_gc = TRUE,   ... )"},{"path":"https://acanthiza.github.io/envModel/reference/make_rf_good.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Iteratively add trees to random forest until predictions stabilise — make_rf_good","text":"env_df Dataframe clust_col, site_col columns env_names. clust_col Character. Name columns clusters. env_names Character. Name environmental variables (e.g. names(stack_list)). trees_start Number trees first random forest run. trees_add Number trees add subsequent run. trees_max Maximum number trees random forest. rf_cores Number cores use parallel processing. use_mtry mtry value randomForest::randomForest() call. NULL generated (lengthy) call caret::train() tune grid .mtry = 1:floor(sqrt(length(env_names)). set_min FALSE numeric. numeric, classes clust_col less set_min rows filtered accept_delta proportion change runs acceptable? accept_run many forests (row) need beat accept_delta? internal_metrics TRUE test data format env_df. do_imp Logical. Passed importance argument randomForest::randomForest(). keep_rf Logical. true, randomForest object included output. Defaults FALSE save memory. out_file Optional name file save results. save_res FALSE folder path. path provided, constant columns env_df used generate file name, metrics saved folder path file name. do_gc Logical. Run gc() results available objects removed.","code":""},{"path":"https://acanthiza.github.io/envModel/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://acanthiza.github.io/envModel/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://acanthiza.github.io/envModel/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://acanthiza.github.io/envModel/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"https://acanthiza.github.io/envModel/reference/reduce_env.html","id":null,"dir":"Reference","previous_headings":"","what":"Reduce number of environmental variables — reduce_env","title":"Reduce number of environmental variables — reduce_env","text":"Given data frame environmental variables, flag correlated, optionally, important variables precursor analysis.","code":""},{"path":"https://acanthiza.github.io/envModel/reference/reduce_env.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reduce number of environmental variables — reduce_env","text":"","code":"reduce_env(   env_df,   env_cols,   y_col = NULL,   y_col_factor = TRUE,   remove = TRUE,   thresh = 0.95,   remove_always = c(\"lat\", \"long\"),   keep_always = c(\"rain\", \"tavg\") )"},{"path":"https://acanthiza.github.io/envModel/reference/reduce_env.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reduce number of environmental variables — reduce_env","text":"env_df Dataframe environmental variables env_cols Numeric character vector defining columns env_df contain variables test correlation. Correlation found via caret::findCorrelation(). y_col Character. Name column env_df test 'important' variables. y_col_factor Logical. y_col considered factor randomForest::randomForest()? Thus classification rather regression. thresh Numeric. Threshold correlation value variable flagged correlated. remove_always Character. matches always removed (even correlated). keep_always Character vector. string vector, matched, removed (even correlated).","code":""},{"path":"https://acanthiza.github.io/envModel/reference/reduce_env.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reduce number of environmental variables — reduce_env","text":"list elements itemize","code":""}]
